version: '3.8'

services:
  cv-web-app:
    image: ghcr.io/retrovisuals/cine-viewer:latest
    container_name: cine-viewer-webapp
    ports:
      - "8080:8080"
    volumes:
      # Mount uploads directory for persistent storage
      - uploads_data:/app/uploads
      # Optional: Mount static files for development
      - ./src/cineviewer/static:/app/cineviewer/static
      - ./src/cineviewer/templates:/app/cineviewer/templates
    environment:
      - FLASK_ENV=production
      - PYTHONUNBUFFERED=1
    restart: always

volumes:
  uploads_data:
    driver: local
